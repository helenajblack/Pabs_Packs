<div class="container" ng-init="ec.getEvents()">


  <div class="col-sm-12">
    <div class="background">

      <h2>Event Tracker</h2>
      <div class="rows">
        <!-- beginning of tabs -->
        <tabset>
          <!-- packs tab -->
          <tab heading="Donation Events">
            <div class="table-responsive">

              <table class="table table-bordered table-hover">
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Event</th>
                    <th>Packs Promised</th>
                    <th>Packs Needed</th>
                    <th>Notes</th>
                    <!-- header with sort -->
                    <!-- <thead>
                      <tr>
                        <th><a ng-click="ic.orderByField='item'; ic.reverseSort = !ic.reverseSort">
                          Item <span ng-show="ic.orderByField == 'item'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th><a ng-click="ic.orderByField='vendor'; ic.reverseSort = !ic.reverseSort">
                          Vendor <span ng-show="ic.orderByField == 'vendor'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th><a ng-click="ic.orderByField='numberOnHand'; ic.reverseSort = !ic.reverseSort">
                          Number On Hand <span ng-show="orderByField == 'ic.numberOnHand'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th><a ng-click="ic.orderByField='item'; ic.reverseSort = !ic.reverseSort">
                          Comments <span ng-show="ic.orderByField == 'dateOrdered'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th><a ng-click="ic.orderByField='reorderAlertNumber'; ic.reverseSort = !ic.reverseSort">
                          Reorder Alert Amount <span ng-show="ic.orderByField == 'reorderAlertNumber'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th>Delete</th> -->
                  </tr>
                </thead>
                <tr ng-repeat="events in ec.events track by $index" ng-if="events.event_type=='Donation'">
                  <!-- | filter:items.type==='merchandise' | orderBy: 'dateOrdered'  -->
                  <td>{{events.event_date | date:"MM/dd/yyyy"}}</td>
                  <td>{{events.event_time}}</td>
                  <td>{{events.partner_id}}</td>
                  <td>{{events.packs_promised}}</td>
                  <td></td>
                  <td>{{events.comments}}</td>
                  <td><button class="btn btn-warning" ng-click="ec.deleteEvent(events.id)">X</button></td>
                  <!-- //mc.deleteOrder(x._id) -->
                </tr>
              </table>
            </div>

          </tab>


          <tab heading="Packing Events">
            <div class="table-responsive">

              <table class="table table-bordered table-hover">
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Event</th>
                    <th>Packs Made</th>
                    <th>Notes</th>
                    <!-- header with sort -->
                    <!-- <thead>
                      <tr>
                        <th><a ng-click="ic.orderByField='item'; ic.reverseSort = !ic.reverseSort">
                          Item <span ng-show="ic.orderByField == 'item'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th><a ng-click="ic.orderByField='vendor'; ic.reverseSort = !ic.reverseSort">
                          Vendor <span ng-show="ic.orderByField == 'vendor'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th><a ng-click="ic.orderByField='numberOnHand'; ic.reverseSort = !ic.reverseSort">
                          Number On Hand <span ng-show="orderByField == 'ic.numberOnHand'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th><a ng-click="ic.orderByField='item'; ic.reverseSort = !ic.reverseSort">
                          Comments <span ng-show="ic.orderByField == 'dateOrdered'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th><a ng-click="ic.orderByField='reorderAlertNumber'; ic.reverseSort = !ic.reverseSort">
                          Reorder Alert Amount <span ng-show="ic.orderByField == 'reorderAlertNumber'"><span ng-show="!ic.reverseSort"><i class="fa fa-sort-asc" aria-hidden="true"></i></span><span ng-show="ic.reverseSort"><i class="fa fa-sort-desc" aria-hidden="true"></i></span></span></a></th>
                        <th>Delete</th> -->
                  </tr>
                </thead>
                <tr ng-repeat="events in ec.events track by $index" ng-if="events.event_type=='Packing'">
                  <!-- | filter:items.type==='merchandise' | orderBy: 'dateOrdered'  -->
                  <td>{{events.event_date | date:"MM/dd/yyyy"}}</td>
                  <td>{{events.event_time}}</td>
                  <td>{{events.partner_id}}</td>
                  <td>{{events.packs_made}}</td>
                  <td>{{events.comments}}</td>
                  <td><button class="btn btn-warning" ng-click="ic.deleteItem(items.id)">X</button></td>
                </tr>
              </table>
            </div>

          </tab>

      </div>

    </div>

  </div>

  <!-- modal -->
  <script type="text/ng-template" id="eventModal.html">
    <div class="modal-header">
      <div class='btn-toolbar pull-right'>
        <div class='btn-group'>
          <button class="btn btn-warning" ng-click="ec.cancel()"><i class="fa fa-times" aria-hidden="true"></i></button>
        </div>
      </div>
      <h3 class="modal-title">New Item</h3>
    </div>
    <div class="modal-body">
      <div class="row">
        <div class="col-md-12">
          <!-- input forms -->
          <form>
            <div class="form-group">
              <label>Date:</label for="date">
                <input type="date" class="modalInput form-control input-lg" placeholder="Type your date here" id="date" ng-model="ec.event_date">
            </div>
            <div class="form-group">
              <label>Time:</label for="time">
                <input type="text" class="modalInput form-control input-lg" placeholder="Time" id="time" ng-model="ec.event_time">
            </div>
            <div class="form-group">
              <label>Partner Id:</label for="numberOnHand">
                <input type="number" class="modalInput form-control input-lg" placeholder="Partner Id" id="numberOnHand" ng-model="ec.partner_id">
            </div>
            <div class="form-group">
              <label>Comments:</label for="comments">
                <input type="text" class="modalInput form-control input-lg" placeholder="Comments" id="comments" ng-model="ec.comments">
            </div>
            <div class="form-group">
              <label>Packs Made:</label for="packsMade">
                <input type="number" class="modalInput form-control input-lg" placeholder="Packs Made" id="packsMade" ng-model="ec.packs_made">
            </div>
            <div class="form-group">
              <label>Packs Promised:</label for="packsPromised">
                <input type="number" class="modalInput form-control input-lg" placeholder="Packs Promised" id="packsPromised" ng-model="ec.packs_promised">
            </div>
            <!-- radio buttons -->
            <div class="form-group">
              <label>Type of Event:</label for="eventType">
                <select label="-- Select option --" class="form-control input-lg input100" id="eventType" ng-model="ec.event_type" placeholder="What type of event?">
                  <option value="" selected disabled><span class="selectlabel">What type of event?</span></option>
                  <option class="form-control input-lg input100" value="Donation">Donation Event</option>
                  <option class="form-control input-lg input100" value="Packing">Packing Event</option>
                </select>
            </div>

          </form>
        </div>
      </div>
    </div>
</div>
<!-- post button -->
      <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ec.createEvent()">Create</button>
      </div>
    </script>
<!-- end modal -->

<button class="btn btn-info" ng-click="ec.openAddNew()">Add New <i class="fa fa-plus" aria-hidden="true"></i></button>
